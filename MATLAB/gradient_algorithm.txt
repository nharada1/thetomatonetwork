At each time step, the systems are clustered into k clusters. For each cluster, the
gradient of the performance function is approximated by fitting a plane through
the points in the cluster and taking the coefficient corresponding to nutrient dosage.
This will give an approximation of dP/dN at each point of the cluster (so each point
in the cluster will have the same gradient). 

For each system, the update rule is: N_t+1 = N_t + eta*gradient

Where eta is the learning rate, eta = L/sqrt(t_end), where L is the lipschitz constant 
(maximum dP/dN) of the performance function and t_end is the final time step. L is not
known a priori, so we continually approximate it as the maximum computed values of 
dP/dN over the previous time steps. 